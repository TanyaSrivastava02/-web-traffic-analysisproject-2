<script>
    function view_search() {
        var input, filter, found, table, tr, td, i, j;
        input = document.getElementById("view_input");
        filter = input.value.toUpperCase();
        table = document.getElementById("view_table");
        tr = table.getElementsByTagName("tr");
        for (i = 1; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td");
            for (j = 0; j < td.length; j++) {
                if (td[j].innerHTML.toUpperCase().indexOf(filter) > -1) {
                    found = true;
                }
            }
            if (found) {
                tr[i].style.display = "";
                found = false;
            } else {
                tr[i].style.display = "none";
            }
        }
    }
    </script>

<input type="text" id="view_input" class="mb-3" onkeyup="view_search()" placeholder="Search">
<div class="row">
    <div class="col-md-10" style="max-height:500px; overflow-y: scroll;">
        <table class="table table-hover table-striped table-bordered" id="view_table" >
            <thead>
                <tr>
                    <th>#</th>
                    <th>page</th>
                    <th>load time</th>
                    <th>referer</th>
                    <th>ip</th>
                    <th>city</th>
                    <th>state</th>
                </tr>
            </thead>
            <tbody>
                {% for row in ctx.data %}
                    <tr>
                        <td>{{row.id}}</td>
                        <td>{{row.page}}</td>
                        <td>{{row.loadtime}}</td>
                        <td>{{row.referer}}</td>
                        <td>{{row.ip}}</td>
                        <td>{{row.city}}</td>
                        <td>{{row.state}}</td>
                    </tr>
                {% endfor %}
                
            </tbody>
        </table>
    </div>
</div>
